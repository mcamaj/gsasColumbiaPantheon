!function(e){"use strict";Drupal.behaviors.globalHeader={attach:function(n){var t,o,i,a,s,l,r="globalHeader",d=!1,c=!1,f=!1,u=e(document),p=e(window),v=null,m=!1,h=!1,b=function(){e('<button type="button" class="btn-menu" />').html("Menu").on("click",function(){return!o.is(":animated")&&void(h?(p.scrollTop(a),t.removeClass("menu-active menu-open"),o.slideUp("fast",function(){o.find("ul[style]").removeAttr("style"),o.find("li.is-open").removeClass("is-open"),h=!1})):(a=p.scrollTop(),t.removeClass("search-open").addClass("menu-active"),o.slideDown("fast",function(){t.addClass("menu-open").scrollTop(0),h=!0})))}).insertBefore(o)},w=function(){i=e('<button type="button" class="btn-search" />').html("Menu").on("click",function(){t.toggleClass("search-open"),t.hasClass("search-open")&&t.find('#block-gsassearchblock input[type="search"]').focus()}).insertAfter(o),Modernizr.touchevents||i.on("focus",function(){d&&h?(t.removeClass("menu-active menu-open"),o.find("ul[style]").addBack().removeAttr("style"),o.find("li.is-open").removeClass("is-open"),h=!1):null!==v&&(v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=null)})},g=function(){o.find("> ul > li").each(function(){var n=e(this),t=n.find("ul");t.length&&e('<button type="button" />').on("click",function(){return!t.is(":animated")&&void(n.hasClass("is-open")?(t.slideUp(),n.removeClass("is-open")):(t.slideDown(),n.addClass("is-open")))}).insertAfter(n.find("> a"))})},C=function(){o.on("mouseenter",function(){clearTimeout(l),s=window.setTimeout(function(){m=!0,h||(v.addClass("is-open").find("> ul").stop().slideDown(),h=!0)},200)}),o.on("mouseleave",function(){clearTimeout(s),h?l=window.setTimeout(function(){v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=null,h=!1,m=!1},500):v=null}),o.on("mouseenter","> ul > li",function(){var n=e(this);null===v||n.hasClass("is-open")||v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=n,m&&!n.hasClass("is-open")&&(v.addClass("is-open").find("> ul").stop().slideDown(),h=!0)})},y=function(){o.on("focus","> ul > li > a",function(){var n=e(this).parent();n.hasClass("is-open")?(v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=null):(null!==v&&v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=n,v.addClass("is-open").find("> ul").stop().slideDown())})},k=function(){o.on("click","> ul > li > a",function(n){n.stopPropagation();var t=e(this).parent();t.hasClass("is-open")||(n.preventDefault(),null==v?u.on("click."+r,function(){v.removeClass("is-open").find("> ul").stop().slideUp("fast"),u.off("click."+r),v=null}):v.removeClass("is-open").find("> ul").stop().slideUp("fast"),v=t,v.addClass("is-open").find("> ul").stop().slideDown())})},D=function(n){t=e(n),o=e('nav[id^="block-mainnavigation-2"]'),w(),e.mediaquery("bind","mq-"+r,"(max-width: 959px)",{enter:function(){d=!0,f&&(null!==v&&(o.find("ul[style]").removeAttr("style"),o.find("li.is-open").removeClass("is-open"),v=null),o.off(),Modernizr.touchevents?u.off("click."+r):(h=!1,m=!1,clearTimeout(s),clearTimeout(l)),f=!1),c||(b(),g(),c=!0)},leave:function(){f=!0,d&&h&&(t.removeClass("menu-active menu-open"),o.find("ul[style]").addBack().removeAttr("style"),o.find("li.is-open").removeClass("is-open"),h=!1),d=!1,Modernizr.touchevents?k():(C(),y())}})};e(n).find("header.hdr-global").once("globalHeader").each(function(){D(this)})}},Drupal.behaviors.stickyFooter={attach:function(n){var t,o,i="stickyFooter",a=!1,s=function(){t.find(".header").on("click",function(){return!t.is(":animated")&&void(t.hasClass("is-open")?(t.animate({bottom:t.data("offscreen")}),t.removeClass("is-open")):(t.animate({bottom:0}),t.addClass("is-open")))})},l=function(){var e=t.find("nav.nav-info").innerHeight()*-1;t.data("offscreen",e),t.css("bottom",e)},r=function(){e(window).on("resize."+i+" orientationchange."+i,function(){clearTimeout(o),o=setTimeout(function(){t.removeClass("is-open"),l()},100)})},d=function(n){t=e(n),e.mediaquery("bind","mq-"+i,"(max-width: 959px)",{enter:function(){l(),r(),s(),t.addClass("is-visible"),a=!0},leave:function(){a&&(clearTimeout(o),t.removeClass("is-open").removeAttr("style"),t.find(".header").off(),e(window).off("."+i),a=!1)}})};e(n).find("#block-audiences").once("stickyFooter").each(function(){d(this)})}},Drupal.behaviors.facesAndFacetsModule={attach:function(n){e(n).find(".faces-and-facets-container").each(function(){var e=function(){var e=new Swiper(".faces-and-facets-container .swiper-container",{effect:"fade",speed:600,loop:!0,fade:{crossFade:!0}});new Swiper(".faces-and-facets-container .swiper-content-container",{effect:"fade",speed:600,loop:!0,control:e,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",fade:{crossFade:!0}})};e()})}},Drupal.behaviors.twitterModule={attach:function(n){e(n).find(".twitter-module-container").each(function(){var e=function(){new Swiper(".twitter-module-container .swiper-content-container",{effect:"fade",speed:300,loop:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",fade:{crossFade:!0}})};e()})}},Drupal.behaviors.subNavToggle={attach:function(n){e(n).find("#block-sectionheaderblock").each(function(){var n=function(){function n(){t.hasClass("sub-nav-is-open")?(t.removeClass("sub-nav-is-open"),o.removeClass("is-open")):(t.addClass("sub-nav-is-open"),o.addClass("is-open"))}var t=e("body"),o=e(".select-sub-menu-trigger","#block-sectionheaderblock"),i=e("label",".select-sub-menu-trigger");if(e("#block-sectionheaderblock .menu-item--active-trail a").length>0){var a=e("#block-sectionheaderblock .menu-item--active-trail a").html().replace("&amp;","&");i.text(a)}o.on("click",n),e.mediaquery("bind","mq-key","(min-width: 960px)",{leave:function(){t.hasClass("sub-nav-is-open")&&(t.removeClass("sub-nav-is-open"),o.removeClass("is-open"))}})};n()})}},Drupal.behaviors.toolkitModule={attach:function(n){var t=e(n).find(".field--name-field-toolkit"),o=t.find(".tab-controls"),i=t.find(".tabs");o.find("a").on("click",function(n){n.preventDefault();var t=e(this).data("id"),a='[data-id="'+t+'"]',s=i.find(".active"),l=o.find(".active");e(this).hasClass("active")||(s.removeClass("active"),l.removeClass("active"),o.find(a).addClass("active"),i.find(a).addClass("active"))})}},Drupal.behaviors.blogLandingDropdownCategory={attach:function(n){e("#views-exposed-form-blog-landing-list-block-1 .form-item-category select",n).dropdown({label:"Open to"}),"All"===e("#views-exposed-form-blog-landing-list-block-1 .form-item-category option:selected").val()&&e("#views-exposed-form-blog-landing-list-block-1 .form-item-category .fs-dropdown-selected",n).html("Category")}},Drupal.behaviors.eventCalendarDropdownAccess={attach:function(n){e(".form-item-field-event-access-target-id select",n).dropdown({label:"Open to"}),"Any"===e(".form-item-field-event-access-target-id option:selected").val()&&e(".form-item-field-event-access-target-id .fs-dropdown-selected",n).html("Category")}},Drupal.behaviors.eventCalendarDropdownOrganizer={attach:function(n){e(".form-item-field-event-organizer-target-id select",n).dropdown({label:"Organizer"}),"All"===e(".form-item-field-event-organizer-target-id option:selected").val()&&e(".form-item-field-event-organizer-target-id .fs-dropdown-selected",n).html("Organizer")}},Drupal.behaviors.eventCalendarDropdownDate={attach:function(n){e(".form-item-gsas-events-date-select select",n).dropdown({label:"Date"}),"All"===e(".form-item-gsas-events-date-select option:selected").val()&&e(".form-item-gsas-events-date-select .fs-dropdown-selected",n).html("Date")}},Drupal.behaviors.eventCalendarAutosubmit={attach:function(n){var t=e('.view-event-calendar.view-id-event_calendar .views-exposed-form input.form-submit[value="Apply"]',n);e(n).find(".view-event-calendar.view-id-event_calendar").once("eventCalendarAutosubmit").each(function(){e(".form-select",this).on("change",function(){_.defer(function(){t.click()})})})}},Drupal.behaviors.blogLandingAutosubmit={attach:function(n){var t=e('.view-blog-landing-list.view-display-id-block_1 .views-exposed-form input.form-submit[value="Apply"]',n);e(n).find(".view-blog-landing-list.view-display-id-block_1").once("blogLandingAutosubmit").each(function(){e(".form-select",this).on("change",function(){_.defer(function(){t.click()})})})}},Drupal.behaviors.blogDropdownCategory={attach:function(n){var t=e("#views-exposed-form-search-results"),o=t.find(".js-form-type-select");if(!t.find(".radio-buttons").length){t.find(".js-form-type-select").append('<div class="radio-buttons"></div>');var i=t.find(".radio-buttons");o.find("select").dropdown({label:"Category"}),o.find(".fs-dropdown-selected").html("Category"),o.appendTo(t);var a=o.find("select option"),s=a.length;a.each(function(n){var o="selected"===e(this).attr("selected")?"selected":"";i.append('<div><span class="button '+o+'" data-id="'+e(this).val()+'"></span><span class="text">'+e(this).html()+"</span></div>"),n===s-1&&t.addClass("loaded")}),i.find(".button").click(function(){i.find(".button").removeClass("selected"),e(this).addClass("selected");var n=e(this).data("id"),a='select option[value="'+n+'"]';o.find(a).attr("selected","selected"),t.submit()})}}},Drupal.behaviors.blockEqualizer={attach:function(n,t){e.mediaquery("bind","blockEqualizer","(min-width: 960px)",{enter:function(){e("#block-views-block-story-menu-content-block-1").equalize({target:".views-row .group-text"})},leave:function(){e(".view-story-menu-content.view-display-id-block_1").equalize("destroy"),e("#block-views-block-story-menu-content-block-1").equalize("destroy")}})}},Drupal.behaviors.storyMenuInfiniteScroll={attach:function(n,t){function o(){i.find(".views-row").length===a?window.setTimeout(o,100):e(window).trigger("resize")}var i=e(".view-story-menu-content"),a=i.find(".views-row").length;i.find(".pager a").click(function(){o()})}},Drupal.behaviors.dropdownItems={attach:function(n,t){var o=e(".paragraph--type--dropdown-item");o.length&&o.find(".field--name-field-title").click(function(){var n=e(this).closest(".paragraph--type--dropdown-item");n.find(".field--name-field-body").slideToggle(),e(this).toggleClass("is-open")})}},Drupal.behaviors.tableHeaders={attach:function(n,t){var o=e(".field--name-field-body table");o.length&&o.each(function(){var n=e(this).find("th"),t=e(this).find("tbody tr");n.each(function(n,o){var i=e(this).html();t.each(function(){e(this).find("td").eq(n).prepend('<div class="header">'+i+"</div>")})})})}},Drupal.behaviors.toolkitControls={attach:function(n,t){var o=e(".field--name-field-toolkit .tab-controls > div");o.length&&o.length<3&&o.parent().css("width","40%")}}}(jQuery);